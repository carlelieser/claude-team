{"version":3,"file":"task-card.js","sources":["../../../../src/lib/components/tasks/task-card.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import type { TaskDto } from '$lib/ipc/client';\n  import { agentStore } from '$lib/stores/agents.svelte';\n  import { taskStore } from '$lib/stores/tasks.svelte';\n  import { Button } from '$lib/components/ui/button';\n  import * as Card from '$lib/components/ui/card';\n  import { Badge } from '$lib/components/ui/badge';\n\n  interface Props {\n    task: TaskDto;\n    compact?: boolean;\n  }\n\n  let { task, compact = false }: Props = $props();\n\n  const agent = $derived(task.agentId ? agentStore.getById(task.agentId) : null);\n\n  const statusColors = {\n    pending: 'bg-muted text-muted-foreground border-transparent',\n    in_progress: 'bg-info-muted text-info-muted-foreground border-transparent',\n    completed: 'bg-success-muted text-success-muted-foreground border-transparent',\n    failed: 'bg-destructive/10 text-destructive border-transparent',\n    canceled: 'bg-muted text-muted-foreground border-transparent',\n  };\n\n  const priorityLabels: Record<number, string> = {\n    0: 'Low',\n    1: 'Medium',\n    2: 'High',\n    3: 'Urgent',\n  };\n\n  async function handleCancel() {\n    await taskStore.cancel(task.id);\n  }\n</script>\n\n<Card.Root class=\"px-6 {compact ? 'py-4' : ''}\">\n  <div class=\"flex items-start justify-between gap-4\">\n    <div class=\"min-w-0 flex-1\">\n      <h4 class=\"truncate font-medium text-surface-900\">{task.title}</h4>\n      {#if !compact && task.description}\n        <p class=\"mt-1 text-sm text-surface-500\">{task.description}</p>\n      {/if}\n    </div>\n\n    <Badge class={statusColors[task.status]}>\n      {task.status.replace('_', ' ')}\n    </Badge>\n  </div>\n\n  <div class=\"mt-3 flex flex-wrap items-center gap-2 text-xs text-surface-500\">\n    {#if agent}\n      <span class=\"flex items-center gap-1\">\n        <svg class=\"h-3 w-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n          />\n        </svg>\n        {agent.name}\n      </span>\n    {/if}\n\n    {#if task.priority > 0}\n      <span\n        class=\"rounded px-1.5 py-0.5 {task.priority >= 2\n          ? 'bg-destructive/10 text-destructive'\n          : 'bg-warning-muted text-warning-muted-foreground'}\"\n      >\n        {priorityLabels[task.priority] ?? 'Normal'}\n      </span>\n    {/if}\n\n    <span>\n      {new Date(task.createdAt).toLocaleDateString()}\n    </span>\n  </div>\n\n  {#if !compact && (task.status === 'pending' || task.status === 'in_progress')}\n    <div class=\"mt-4 border-t pt-4\">\n      <Button variant=\"ghost\" size=\"sm\" class=\"text-destructive hover:text-destructive/80\" onclick={handleCancel}>\n        Cancel\n      </Button>\n    </div>\n  {/if}\n</Card.Root>\n"],"names":["$$renderer","$.escape"],"mappings":";;;;;;;;;wCAAA;UAaQ,MAAM,UAAU,MAAK,IAAA;AAErB,UAAA,QAAiB,KAAK,UAAU,WAAW,QAAQ,KAAK,OAAO,IAAI;UAEnE,eAAY;AAAA,MAChB,SAAS;AAAA,MACT,aAAa;AAAA,MACb,WAAW;AAAA,MACX,QAAQ;AAAA,MACR,UAAU;AAAA;AAGN,UAAA,iBAAsC,EAC1C,GAAG,OACH,GAAG,UACH,GAAG,QACH,GAAG,SAAQ;AAGE,mBAAA,eAAe;AACtB,YAAA,UAAU,OAAO,KAAK,EAAE;AAAA,IAChC;;;+BAGsB,UAAU,SAAS,EAAE,CAAA;AAAA;AAGY,QAAAA,YAAA,KAAA,qIAAAC,YAAA,KAAK,KAAK,CAAA,QAAA;aACvD,WAAW,KAAK,aAAW;;AACW,UAAAD,YAAA,KAAA,4CAAAC,YAAA,KAAK,WAAW,CAAA,MAAA;AAAA;;;;;iBAIhD,aAAa,KAAK,MAAM;AAAA;AACnC,YAAAD,YAAA,KAAA,UAAAC,YAAA,KAAK,OAAO,QAAQ,KAAK,GAAG,CAAA,CAAA,EAAA;AAAA;;;;YAK1B,OAAK;;AAUL,UAAAD,YAAA,KAAA,gRAAAC,YAAA,MAAM,IAAI,CAAA,SAAA;AAAA;;;;YAIV,KAAK,WAAW,GAAC;;iFAEY,KAAK,YAAY,IAC3C,uCACA,gDAAgD,oBAEnD,eAAe,KAAK,QAAQ,KAAK,QAAQ,CAAA,SAAA;AAAA;;;AAKvC,QAAAD,YAAA,KAAA,kBAAAC,YAAA,IAAA,KAAK,KAAK,SAAS,EAAE,oBAAkB,CAAA,gBAAA;aAI1C,YAAY,KAAK,WAAW,aAAa,KAAK,WAAW,gBAAa;;;;;;;qBAEsB;AAAA;;;;;;;;;;;;;;EAhD5F,CAAA;;"}