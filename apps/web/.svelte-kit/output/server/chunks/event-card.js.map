{"version":3,"file":"event-card.js","sources":["../../../../src/lib/components/events/event-card.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import type { EventDto } from '$lib/ipc/client';\n  import { Badge } from '$lib/components/ui/badge';\n\n  interface Props {\n    event: EventDto;\n  }\n\n  let { event }: Props = $props();\n\n  const typeColors: Record<string, string> = {\n    'task.': 'bg-info-muted text-info-muted-foreground border-transparent',\n    'agent.': 'bg-accent text-accent-foreground border-transparent',\n    'system.': 'bg-muted text-muted-foreground border-transparent',\n    'error': 'bg-destructive/10 text-destructive border-transparent',\n  };\n\n  function getTypeColor(type: string): string {\n    for (const [prefix, color] of Object.entries(typeColors)) {\n      if (type.startsWith(prefix)) {\n        return color;\n      }\n    }\n    return 'bg-muted text-muted-foreground border-transparent';\n  }\n\n  function formatPayload(payload: Record<string, unknown>): string {\n    return JSON.stringify(payload, null, 2);\n  }\n\n  let expanded = $state(false);\n</script>\n\n<div class=\"rounded-lg border bg-white p-3 text-sm\">\n  <div class=\"flex items-start justify-between gap-3\">\n    <div class=\"min-w-0 flex-1\">\n      <div class=\"flex items-center gap-2\">\n        <Badge class={getTypeColor(event.type)}>\n          {event.type}\n        </Badge>\n        <span class=\"text-xs text-surface-400\">\n          {new Date(event.timestamp).toLocaleTimeString()}\n        </span>\n      </div>\n\n      <div class=\"mt-1 flex items-center gap-2 text-xs text-surface-500\">\n        <span>Source: {event.source}</span>\n        {#if event.processed}\n          <span class=\"text-success\">Processed</span>\n        {/if}\n      </div>\n    </div>\n\n    <button\n      class=\"flex-shrink-0 p-1 text-surface-400 hover:text-surface-600\"\n      onclick={() => (expanded = !expanded)}\n      aria-expanded={expanded}\n      aria-label={expanded ? 'Collapse event details' : 'Expand event details'}\n    >\n      <svg\n        class=\"h-4 w-4 transition-transform {expanded ? 'rotate-180' : ''}\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n      >\n        <path\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          stroke-width=\"2\"\n          d=\"M19 9l-7 7-7-7\"\n        />\n      </svg>\n    </button>\n  </div>\n\n  {#if expanded}\n    <div class=\"mt-3 overflow-x-auto rounded bg-surface-50 p-2\">\n      <pre class=\"text-xs text-surface-600\">{formatPayload(event.payload)}</pre>\n    </div>\n  {/if}\n</div>\n"],"names":["$$renderer","$.escape","$.attr","$.attr_class","$.stringify"],"mappings":";;;;wCAAA;UAQQ,MAAK,IAAA;UAEL,aAAkC;AAAA,MACtC,SAAS;AAAA,MACT,UAAU;AAAA,MACV,WAAW;AAAA,MACX,SAAS;AAAA;aAGF,aAAa,MAAsB;kBAC9B,QAAQ,KAAK,KAAK,OAAO,QAAQ,UAAU,GAAG;AACpD,YAAA,KAAK,WAAW,MAAM,GAAG;iBACpB;AAAA,QACT;AAAA,MACF;aACO;AAAA,IACT;AAMI,QAAA,WAAkB;;;aAOF,aAAa,MAAM,IAAI;AAAA;AAClC,QAAAA,YAAA,KAAA,UAAAC,YAAA,MAAM,IAAI,CAAA,EAAA;AAAA;;;uFAGN,KAAK,MAAM,SAAS,EAAE,mBAAkB,CAAA,CAAA,kGAAAA,YAKhC,MAAM,MAAM,CAAA,UAAA;AACtB,QAAA,MAAM,WAAS;;;;;;4IASP,QAAQ,CAAA,GAAAC,KAAA,cAC2B,sBAAsB,CAAA,QAAAC,WAAA,gCAAAC,UAGP,EAAE,CAAA,EAAA,CAAA,+KAAA;;;;;EA7BjE,CAAA;;"}