{"version":3,"file":"_page.svelte.js","sources":["../../../../../../src/lib/components/events/event-filter.svelte","../../../../../../src/lib/components/events/event-stream.svelte","../../../../../../src/routes/events/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { eventStore } from '$lib/stores/events.svelte';\n  import { Button } from '$lib/components/ui/button';\n  import { Input } from '$lib/components/ui/input';\n  import { Select, SelectTrigger, SelectContent, SelectItem } from '$lib/components/ui/select';\n\n  const eventTypes = [\n    { value: 'task.*', label: 'task.*' },\n    { value: 'agent.*', label: 'agent.*' },\n    { value: 'system.*', label: 'system.*' },\n  ];\n\n  let typeFilter = $state<string | undefined>(eventStore.filter.type);\n  let sourceFilter = $state<string | undefined>(eventStore.filter.source);\n\n  const selectedTypeLabel = $derived(typeFilter ?? 'All');\n\n  function applyFilter() {\n    eventStore.setFilter({\n      ...eventStore.filter,\n      type: typeFilter,\n      source: sourceFilter,\n    });\n  }\n\n  function clearFilter() {\n    typeFilter = undefined;\n    sourceFilter = undefined;\n    eventStore.setFilter({});\n  }\n\n  async function toggleStreaming() {\n    if (eventStore.isStreaming) {\n      await eventStore.stopStreaming();\n    } else {\n      await eventStore.startStreaming();\n    }\n  }\n\n  function handleTypeChange(value: string | undefined) {\n    typeFilter = value;\n    applyFilter();\n  }\n</script>\n\n<div class=\"flex flex-wrap items-center gap-4 rounded-lg border bg-white p-4\">\n  <div class=\"flex items-center gap-2\">\n    <span class=\"text-sm text-surface-600\" id=\"type-filter-label\">Type:</span>\n    <Select type=\"single\" bind:value={typeFilter} onValueChange={handleTypeChange}>\n      <SelectTrigger class=\"w-auto min-w-24\" aria-labelledby=\"type-filter-label\">\n        {selectedTypeLabel}\n      </SelectTrigger>\n      <SelectContent>\n        <SelectItem value={undefined}>All</SelectItem>\n        {#each eventTypes as type}\n          <SelectItem value={type.value}>{type.label}</SelectItem>\n        {/each}\n      </SelectContent>\n    </Select>\n  </div>\n\n  <div class=\"flex items-center gap-2\">\n    <label class=\"text-sm text-surface-600\" for=\"source-filter\">Source:</label>\n    <Input\n      id=\"source-filter\"\n      type=\"text\"\n      class=\"w-32\"\n      placeholder=\"Filter by source\"\n      bind:value={sourceFilter}\n      onchange={applyFilter}\n    />\n  </div>\n\n  <div class=\"flex items-center gap-2\">\n    <Button variant=\"ghost\" size=\"sm\" onclick={clearFilter}>\n      Clear\n    </Button>\n\n    <Button\n      variant={eventStore.isStreaming ? 'secondary' : 'default'}\n      size=\"sm\"\n      onclick={toggleStreaming}\n    >\n      {eventStore.isStreaming ? 'Pause' : 'Resume'} Stream\n    </Button>\n  </div>\n\n  <div class=\"ml-auto text-xs text-surface-500\">\n    {eventStore.events.length} events\n  </div>\n</div>\n","<script lang=\"ts\">\n  import { eventStore } from '$lib/stores/events.svelte';\n  import EventCard from './event-card.svelte';\n  import * as Empty from '$lib/components/ui/empty/index.js';\n  import ActivityIcon from 'lucide-svelte/icons/activity';\n\n  interface Props {\n    maxEvents?: number;\n  }\n\n  let { maxEvents = 50 }: Props = $props();\n\n  const displayedEvents = $derived(eventStore.events.slice(0, maxEvents));\n</script>\n\n{#if eventStore.loading}\n  <div class=\"flex items-center justify-center py-12\">\n    <div class=\"h-8 w-8 animate-spin rounded-full border-4 border-primary-500 border-t-transparent\"></div>\n  </div>\n{:else if eventStore.error}\n  <div class=\"rounded-lg bg-red-50 p-4 text-sm text-red-600\">\n    {eventStore.error}\n  </div>\n{:else if displayedEvents.length === 0}\n  <Empty.Root class=\"py-12\">\n    <Empty.Header>\n      <Empty.Media variant=\"icon\">\n        <ActivityIcon class=\"size-5\" />\n      </Empty.Media>\n      <Empty.Title>No events yet</Empty.Title>\n      <Empty.Description>Events will appear here as agents work on tasks</Empty.Description>\n    </Empty.Header>\n  </Empty.Root>\n{:else}\n  <div class=\"space-y-2\">\n    {#if eventStore.isStreaming}\n      <div class=\"flex items-center gap-2 text-xs text-surface-500\">\n        <span class=\"relative flex h-2 w-2\">\n          <span class=\"absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75\"></span>\n          <span class=\"relative inline-flex h-2 w-2 rounded-full bg-green-500\"></span>\n        </span>\n        Live streaming\n      </div>\n    {/if}\n\n    {#each displayedEvents as event (event.id)}\n      <EventCard {event} />\n    {/each}\n\n    {#if eventStore.events.length > maxEvents}\n      <div class=\"text-center text-sm text-surface-400\">\n        Showing {maxEvents} of {eventStore.events.length} events\n      </div>\n    {/if}\n  </div>\n{/if}\n","<script lang=\"ts\">\n  import { Header } from '$lib/components/layout';\n  import { EventStream, EventFilter } from '$lib/components/events';\n  import { eventStore } from '$lib/stores/events.svelte';\n  import { Button } from '$lib/components/ui/button';\n</script>\n\n<Header title=\"Events\" subtitle=\"Real-time activity stream\">\n  {#snippet actions()}\n    <Button variant=\"secondary\" size=\"sm\" onclick={() => eventStore.clearEvents()}>\n      Clear Events\n    </Button>\n  {/snippet}\n</Header>\n\n<div class=\"flex-1 overflow-auto p-6\">\n  <EventFilter />\n\n  <div class=\"mt-4\">\n    <EventStream maxEvents={100} />\n  </div>\n</div>\n"],"names":["$$renderer","$.escape"],"mappings":";;;;;;;;;;;;;;wCAAA;UAMQ,aAAU;AAAA,MACZ,EAAA,OAAO,UAAU,OAAO,SAAQ;AAAA,MAChC,EAAA,OAAO,WAAW,OAAO,UAAS;AAAA,MAClC,EAAA,OAAO,YAAY,OAAO,WAAU;AAAA;AAGpC,QAAA,aAAwC,WAAW,OAAO;AAC1D,QAAA,eAA0C,WAAW,OAAO;UAE1D,oBAA6B,cAAc;AAExC,aAAA,cAAc;AACrB,iBAAW,UAAS,EAAA,GACf,WAAW,QACd,MAAM,YACN,QAAQ,cAAY;AAAA,IAExB;AAES,aAAA,cAAc;AACrB,mBAAa;AACb,qBAAe;AACf,iBAAW,UAAS,EAAA;AAAA,IACtB;AAEe,mBAAA,kBAAkB;UAC3B,WAAW,aAAa;AACpB,cAAA,WAAW,cAAa;AAAA,MAChC,OAAO;AACC,cAAA,WAAW,eAAc;AAAA,MACjC;AAAA,IACF;aAES,iBAAiB,OAA2B;AACnD,mBAAa;AACb,kBAAW;AAAA,IACb;;;;;;;uBAM+D;AAAA;iBAA3B;AAAA;;AAAA,uBAAU;;;;;;;;qDAEvC,iBAAiB,CAAA,EAAA;AAAA;;;;;;;uBAGC;AAAA;;;;;;mDACZ,UAAU;;oBAAI,OAAI,WAAA,OAAA;;kBACJ,OAAA,KAAK;AAAA;AAAQ,oBAAAA,YAAA,KAAA,UAAAC,YAAA,KAAK,KAAK,CAAA,EAAA;AAAA;;;;;;;;;;;;;;;;;;kBAcpC;AAAA;iBADE;AAAA;;AAAA,yBAAY;;;;;;;;iBAMiB;AAAA;;;;;;;QAKhC,SAAA,WAAW,cAAc,cAAc;AAAA;iBAEvC;AAAA;AAER,UAAAD,YAAA,KAAA,UAAAC,YAAA,WAAW,cAAc,UAAU,QAAQ,CAAA,SAAA;AAAA;;;kGAK7C,WAAW,OAAO,MAAM,CAAA,qBAAA;AAAA;;;;;;;EA7CrB,CAAA;;;wCC3CR;AAUQ,QAAA,EAAA,YAAY,GAAE,IAAA;UAEd,kBAA2B,WAAW,OAAO,MAAM,GAAG,SAAS;AAGlE,QAAA,WAAW,SAAO;;;;;AAIb,UAAA,WAAW,OAAK;;AAErB,QAAAD,YAAA,KAAA,8DAAAC,YAAA,WAAW,KAAK,CAAA,QAAA;AAAA;;YAEX,gBAAgB,WAAW,GAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAY7B,cAAA,WAAW,aAAW;;;;;;;+CAUpB,eAAe;;gBAAI,QAAK,WAAA,OAAA;sCACjB,OAAK;AAAA;;AAGd,cAAA,WAAW,OAAO,SAAS,WAAS;;AAE5B,YAAAD,YAAA,KAAA,6DAAAC,YAAA,SAAS,CAAA,OAAAA,YAAM,WAAW,OAAO,MAAM,CAAA,eAAA;AAAA;;;;;;;;;;EAtChD,CAAA;;;wCCbR;;UAQY,mBAAOD,aAAA;;;;UACsC,SAAA,MAAA,WAAW,YAAW;AAAA;;;;;;;;;QADnE;AAAA;;;;;2CAWgB,IAAG,CAAA;;EAdvB,CAAA;;"}