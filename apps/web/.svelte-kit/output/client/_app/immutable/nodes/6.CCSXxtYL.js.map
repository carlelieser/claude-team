{"version":3,"file":"6.CCSXxtYL.js","sources":["../../../../../../src/lib/components/events/event-filter.svelte","../../../../../../src/lib/components/events/event-stream.svelte","../../../../../../src/routes/events/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { eventStore } from '$lib/stores/events.svelte';\n  import { Button } from '$lib/components/ui/button';\n  import { Input } from '$lib/components/ui/input';\n  import { Select, SelectTrigger, SelectContent, SelectItem } from '$lib/components/ui/select';\n\n  const eventTypes = [\n    { value: 'task.*', label: 'task.*' },\n    { value: 'agent.*', label: 'agent.*' },\n    { value: 'system.*', label: 'system.*' },\n  ];\n\n  let typeFilter = $state<string | undefined>(eventStore.filter.type);\n  let sourceFilter = $state<string | undefined>(eventStore.filter.source);\n\n  const selectedTypeLabel = $derived(typeFilter ?? 'All');\n\n  function applyFilter() {\n    eventStore.setFilter({\n      ...eventStore.filter,\n      type: typeFilter,\n      source: sourceFilter,\n    });\n  }\n\n  function clearFilter() {\n    typeFilter = undefined;\n    sourceFilter = undefined;\n    eventStore.setFilter({});\n  }\n\n  async function toggleStreaming() {\n    if (eventStore.isStreaming) {\n      await eventStore.stopStreaming();\n    } else {\n      await eventStore.startStreaming();\n    }\n  }\n\n  function handleTypeChange(value: string | undefined) {\n    typeFilter = value;\n    applyFilter();\n  }\n</script>\n\n<div class=\"flex flex-wrap items-center gap-4 rounded-lg border bg-white p-4\">\n  <div class=\"flex items-center gap-2\">\n    <span class=\"text-sm text-surface-600\" id=\"type-filter-label\">Type:</span>\n    <Select type=\"single\" bind:value={typeFilter} onValueChange={handleTypeChange}>\n      <SelectTrigger class=\"w-auto min-w-24\" aria-labelledby=\"type-filter-label\">\n        {selectedTypeLabel}\n      </SelectTrigger>\n      <SelectContent>\n        <SelectItem value={undefined}>All</SelectItem>\n        {#each eventTypes as type}\n          <SelectItem value={type.value}>{type.label}</SelectItem>\n        {/each}\n      </SelectContent>\n    </Select>\n  </div>\n\n  <div class=\"flex items-center gap-2\">\n    <label class=\"text-sm text-surface-600\" for=\"source-filter\">Source:</label>\n    <Input\n      id=\"source-filter\"\n      type=\"text\"\n      class=\"w-32\"\n      placeholder=\"Filter by source\"\n      bind:value={sourceFilter}\n      onchange={applyFilter}\n    />\n  </div>\n\n  <div class=\"flex items-center gap-2\">\n    <Button variant=\"ghost\" size=\"sm\" onclick={clearFilter}>\n      Clear\n    </Button>\n\n    <Button\n      variant={eventStore.isStreaming ? 'secondary' : 'default'}\n      size=\"sm\"\n      onclick={toggleStreaming}\n    >\n      {eventStore.isStreaming ? 'Pause' : 'Resume'} Stream\n    </Button>\n  </div>\n\n  <div class=\"ml-auto text-xs text-surface-500\">\n    {eventStore.events.length} events\n  </div>\n</div>\n","<script lang=\"ts\">\n  import { eventStore } from '$lib/stores/events.svelte';\n  import EventCard from './event-card.svelte';\n  import * as Empty from '$lib/components/ui/empty/index.js';\n  import ActivityIcon from 'lucide-svelte/icons/activity';\n\n  interface Props {\n    maxEvents?: number;\n  }\n\n  let { maxEvents = 50 }: Props = $props();\n\n  const displayedEvents = $derived(eventStore.events.slice(0, maxEvents));\n</script>\n\n{#if eventStore.loading}\n  <div class=\"flex items-center justify-center py-12\">\n    <div class=\"h-8 w-8 animate-spin rounded-full border-4 border-primary-500 border-t-transparent\"></div>\n  </div>\n{:else if eventStore.error}\n  <div class=\"rounded-lg bg-red-50 p-4 text-sm text-red-600\">\n    {eventStore.error}\n  </div>\n{:else if displayedEvents.length === 0}\n  <Empty.Root class=\"py-12\">\n    <Empty.Header>\n      <Empty.Media variant=\"icon\">\n        <ActivityIcon class=\"size-5\" />\n      </Empty.Media>\n      <Empty.Title>No events yet</Empty.Title>\n      <Empty.Description>Events will appear here as agents work on tasks</Empty.Description>\n    </Empty.Header>\n  </Empty.Root>\n{:else}\n  <div class=\"space-y-2\">\n    {#if eventStore.isStreaming}\n      <div class=\"flex items-center gap-2 text-xs text-surface-500\">\n        <span class=\"relative flex h-2 w-2\">\n          <span class=\"absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75\"></span>\n          <span class=\"relative inline-flex h-2 w-2 rounded-full bg-green-500\"></span>\n        </span>\n        Live streaming\n      </div>\n    {/if}\n\n    {#each displayedEvents as event (event.id)}\n      <EventCard {event} />\n    {/each}\n\n    {#if eventStore.events.length > maxEvents}\n      <div class=\"text-center text-sm text-surface-400\">\n        Showing {maxEvents} of {eventStore.events.length} events\n      </div>\n    {/if}\n  </div>\n{/if}\n","<script lang=\"ts\">\n  import { Header } from '$lib/components/layout';\n  import { EventStream, EventFilter } from '$lib/components/events';\n  import { eventStore } from '$lib/stores/events.svelte';\n  import { Button } from '$lib/components/ui/button';\n</script>\n\n<Header title=\"Events\" subtitle=\"Real-time activity stream\">\n  {#snippet actions()}\n    <Button variant=\"secondary\" size=\"sm\" onclick={() => eventStore.clearEvents()}>\n      Clear Events\n    </Button>\n  {/snippet}\n</Header>\n\n<div class=\"flex-1 overflow-auto p-6\">\n  <EventFilter />\n\n  <div class=\"mt-4\">\n    <EventStream maxEvents={100} />\n  </div>\n</div>\n"],"names":["eventTypes","typeFilter","$.state","$.proxy","eventStore","sourceFilter","selectedTypeLabel","$.derived","$.get","applyFilter","clearFilter","$.set","toggleStreaming","handleTypeChange","value","div","root","div_1","Select","node","$$value","SelectTrigger","node_1","SelectContent","node_2","SelectItem","node_3","$.each","node_4","type","$$anchor","$.template_effect","$.set_text","text_2","div_2","Input","node_5","div_3","Button","node_6","$0","node_7","text_4","div_4","maxEvents","displayedEvents","root_1","root_3","text","Empty_Root","Empty_Header","Empty_Media","ActivityIcon","Empty_Title","Empty_Description","root_11","root_12","$$render","consequent_3","node_9","event","EventCard","root_14","text_3","consequent_4","consequent_2","alternate","consequent_1","alternate_1","consequent","alternate_2","Header","$.sibling","EventFilter","EventStream"],"mappings":"y1CAAA,gBAMQA,EAAU,CACZ,CAAA,MAAO,SAAU,MAAO,QAAQ,EAChC,CAAA,MAAO,UAAW,MAAO,SAAS,EAClC,CAAA,MAAO,WAAY,MAAO,UAAU,GAGpC,IAAAC,EAAaC,GAAMC,GAAqBC,EAAW,OAAO,IAAI,CAAA,EAC9DC,EAAeH,GAAMC,GAAqBC,EAAW,OAAO,MAAM,CAAA,QAEhEE,EAAiBC,GAAA,IAAAC,EAAYP,CAAU,GAAI,KAAK,EAE7C,SAAAQ,GAAc,CACrBL,EAAW,UAAS,CACf,GAAAA,EAAW,OACd,OAAMH,CAAU,EAChB,SAAQI,CAAY,GAExB,CAES,SAAAK,GAAc,CACrBC,EAAAV,EAAa,MAAS,EACtBU,EAAAN,EAAe,MAAS,EACxBD,EAAW,UAAS,EAAA,CACtB,CAEe,eAAAQ,GAAkB,CAC3BR,EAAW,YACP,MAAAA,EAAW,cAAa,EAExB,MAAAA,EAAW,eAAc,CAEnC,UAESS,EAAiBC,EAA2B,CACnDH,EAAAV,EAAaa,EAAK,EAAA,EAClBL,EAAW,CACb,KAGDM,EAAGC,GAAA,EACDC,IADFF,CAAG,QACDE,CAAG,EAAA,CAAA,EAEDC,GAAMC,EAAA,6BAAsDN,MAAvC,OAAU,UAAEZ,CAAU,OAAtB,MAAUmB,EAAA,GAAEnB,EAAUmB,EAAA,EAAA,sCACzCC,GAAaC,EAAA,0GACXhB,CAAiB,CAAA,CAAA,8CAEnBiB,GAAaC,EAAA,oCACXC,GAAUC,EAAA,OAAQ,uFACZC,GAAAC,EAAA,GAAA,IAAA5B,QAAc6B,IAAI,CACtBJ,GAAUK,EAAA,aAAQ,OAAAtB,EAAAqB,CAAI,EAAC,sCAAQE,EAAA,IAAAC,EAAAC,EAAAzB,EAAAqB,CAAI,EAAC,KAAK,CAAA,mGATjDZ,CAAG,EAeH,IAAAiB,IAfAjB,EAAG,CAAA,QAeHiB,CAAG,EAAA,CAAA,EAEDC,GAAAC,EAAA,qFAMW3B,MADV,OAAU,UAAEJ,CAAY,OAAxB,MAAUe,EAAA,GAAEf,EAAYe,EAAA,EAAA,OAP3Bc,CAAG,EAYH,IAAAG,IAZAH,EAAG,CAAA,MAYHG,CAAG,EACDC,GAAMC,EAAA,mCAAoC7B,qFAKhC,IAAA8B,EAAAjC,GAAA,IAAAH,EAAW,YAAc,YAAc,SAAS,EAD1DkC,GAAAG,EAAA,8CAGU7B,iCAERmB,EAAA,IAAAC,EAAAU,EAAA,GAAAtC,EAAW,YAAc,QAAU,QAAQ,SAAA,CAAA,mCAV/CiC,CAAG,EAcH,IAAAM,IAdAN,EAAG,CAAA,MAcHM,CAAG,IAAHA,CAAG,IA1CL5B,CAAG,eA2CCX,EAAW,OAAO,QAAM,EAAA,SAAA,CAAA,MA3C5BW,CAAG,MAFI,gtBC3CR,UAUQ,IAAA6B,qBAAY,EAAE,QAEdC,EAAetC,GAAA,IAAYH,EAAW,OAAO,MAAM,EAAGwC,EAAS,CAAA,CAAA,kCAIpE7B,EAAG+B,GAAA,MAAH/B,CAAG,yCAIHE,EAAG8B,GAAA,MAAH9B,EAAG,EAAA,IAAHA,CAAG,EACDc,EAAA,IAAAC,EAAAgB,EAAA5C,EAAW,KAAK,CAAA,MADlBa,CAAG,yEAIHgC,EAAUnB,EAAA,oEACRoB,EAAYpB,EAAA,uDACVqB,EAAWrB,EAAA,kCACTsB,GAAYtB,EAAA,CAAA,MAAA,QAAA,CAAA,4DAEduB,EAAWvB,EAAA,mHACXwB,EAAiBxB,EAAA,yMAIrBI,EAAGqB,GAAA,MAAHrB,CAAG,iBAECG,EAAGmB,GAAA,MAAHnB,CAAG,WADDjC,EAAW,aAAWqD,EAAAC,CAAA,iBAUpB/B,GAAAgC,EAAA,GAAA,IAAAnD,EAAAqC,CAAe,EAAIe,GAAOA,EAAM,MAAbA,IAAK,CAC5BC,GAAS/B,EAAA,sBAAE8B,CAAK,mCAIhBjB,EAAGmB,GAAA,MAAHnB,CAAG,IAAHA,CAAG,EACOZ,EAAA,IAAAC,EAAA+B,EAAA,WAAAnB,EAAS,GAAA,EAAA,OAAMxC,EAAW,OAAO,QAAM,EAAA,SAAA,CAAA,MADjDuC,CAAG,WADDvC,EAAW,OAAO,OAASwC,EAAS,GAAAa,EAAAO,CAAA,MAf1C9B,CAAG,MAAHA,CAAG,aAXIW,CAAe,EAAC,SAAW,EAACY,EAAAQ,CAAA,EAAAR,EAAAS,EAAA,EAAA,uBAJ5B9D,EAAW,MAAKqD,EAAAU,CAAA,EAAAV,EAAAW,EAAA,EAAA,uBAJrBhE,EAAW,QAAOqD,EAAAY,CAAA,EAAAZ,EAAAa,EAAA,EAAA,eAFf,+GCbR,iCAOCC,GAAMpD,EAAA,qDACK,QAAOW,GAAA,CACdQ,GAAMR,EAAA,+BAA8C,QAAA,IAAA1B,EAAW,YAAW,qFAM9EW,EAAGyD,EAAArD,EAAA,CAAA,MAAHJ,CAAG,EACD0D,GAAWnD,EAAA,EAAA,MAEXL,EAAGuD,EAAAlD,EAAA,CAAA,MAAHL,CAAG,EACDyD,gBAAuB,GAAG,CAAA,IAD5BzD,CAAG,IAHLF,CAAG,aAVI"}