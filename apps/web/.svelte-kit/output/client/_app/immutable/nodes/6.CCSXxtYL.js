import{f as u,a as e,t as E,c as D}from"../chunks/NTD14719.js";import{i as de}from"../chunks/CVZAUO0q.js";import{p as re,b as ie,d as oe,t as H,a as se,c,s,f as $,n as S,g as i,u as te,e as G,r as f}from"../chunks/oD9g-Rhu.js";import"../chunks/Dpcs-vbd.js";import"../chunks/9BVeyEeW.js";import{B as ae}from"../chunks/CtLtXU_n.js";import{e as t}from"../chunks/DXaP2PVZ.js";import{H as ce}from"../chunks/RRAuoEd1.js";import{E as fe}from"../chunks/BQRNle_x.js";import{s as I}from"../chunks/5-lN2Ztl.js";import{e as ve,i as ue}from"../chunks/BGCg_Yqd.js";import{I as me}from"../chunks/CDDAkrrJ.js";import{S as pe,a as _e,b as ge,c as ne}from"../chunks/DdsYzt_s.js";import{p as $e,i as J}from"../chunks/h2fP5t0r.js";import{c as K}from"../chunks/CvIII2Ln.js";import{a as xe,b as he,c as ye,d as be,E as Ee}from"../chunks/D_IIaSkl.js";import{A as Se}from"../chunks/BGDEJ2kv.js";var we=u("<!> <!>",1),Pe=u("<!> <!>",1),ke=u('<div class="flex flex-wrap items-center gap-4 rounded-lg border bg-white p-4"><div class="flex items-center gap-2"><span class="text-sm text-surface-600" id="type-filter-label">Type:</span> <!></div> <div class="flex items-center gap-2"><label class="text-sm text-surface-600" for="source-filter">Source:</label> <!></div> <div class="flex items-center gap-2"><!> <!></div> <div class="ml-auto text-xs text-surface-500"> </div></div>');function Fe(L,z){re(z,!0);const x=[{value:"task.*",label:"task.*"},{value:"agent.*",label:"agent.*"},{value:"system.*",label:"system.*"}];let l=ie(oe(t.filter.type)),n=ie(oe(t.filter.source));const A=te(()=>i(l)??"All");function w(){t.setFilter({...t.filter,type:i(l),source:i(n)})}function R(){G(l,void 0),G(n,void 0),t.setFilter({})}async function m(){t.isStreaming?await t.stopStreaming():await t.startStreaming()}function h(r){G(l,r,!0),w()}var P=ke(),C=c(P),j=s(c(C),2);pe(j,{type:"single",onValueChange:h,get value(){return i(l)},set value(r){G(l,r,!0)},children:(r,F)=>{var d=Pe(),_=$(d);_e(_,{class:"w-auto min-w-24","aria-labelledby":"type-filter-label",children:(a,o)=>{S();var g=E();H(()=>I(g,i(A))),e(a,g)},$$slots:{default:!0}});var O=s(_,2);ge(O,{children:(a,o)=>{var g=we(),Q=$(g);ne(Q,{value:void 0,children:(U,T)=>{S();var B=E("All");e(U,B)},$$slots:{default:!0}});var Y=s(Q,2);ve(Y,17,()=>x,ue,(U,T)=>{ne(U,{get value(){return i(T).value},children:(B,Z)=>{S();var W=E();H(()=>I(W,i(T).label)),e(B,W)},$$slots:{default:!0}})}),e(a,g)},$$slots:{default:!0}}),e(r,d)},$$slots:{default:!0}}),f(C);var v=s(C,2),y=s(c(v),2);me(y,{id:"source-filter",type:"text",class:"w-32",placeholder:"Filter by source",onchange:w,get value(){return i(n)},set value(r){G(n,r,!0)}}),f(v);var k=s(v,2),M=c(k);ae(M,{variant:"ghost",size:"sm",onclick:R,children:(r,F)=>{S();var d=E("Clear");e(r,d)},$$slots:{default:!0}});var X=s(M,2);{let r=te(()=>t.isStreaming?"secondary":"default");ae(X,{get variant(){return i(r)},size:"sm",onclick:m,children:(F,d)=>{S();var _=E();H(()=>I(_,`${t.isStreaming?"Pause":"Resume"} Stream`)),e(F,_)},$$slots:{default:!0}})}f(k);var p=s(k,2),b=c(p);f(p),f(P),H(()=>I(b,`${t.events.length??""} events`)),e(L,P),se()}var ze=u('<div class="flex items-center justify-center py-12"><div class="h-8 w-8 animate-spin rounded-full border-4 border-primary-500 border-t-transparent"></div></div>'),Ae=u('<div class="rounded-lg bg-red-50 p-4 text-sm text-red-600"> </div>'),Ce=u("<!> <!> <!>",1),Te=u('<div class="flex items-center gap-2 text-xs text-surface-500"><span class="relative flex h-2 w-2"><span class="absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75"></span> <span class="relative inline-flex h-2 w-2 rounded-full bg-green-500"></span></span> Live streaming</div>'),Be=u('<div class="text-center text-sm text-surface-400"> </div>'),He=u('<div class="space-y-2"><!> <!> <!></div>');function Ie(L,z){re(z,!0);let x=$e(z,"maxEvents",3,50);const l=te(()=>t.events.slice(0,x()));var n=D(),A=$(n);{var w=m=>{var h=ze();e(m,h)},R=m=>{var h=D(),P=$(h);{var C=v=>{var y=Ae(),k=c(y,!0);f(y),H(()=>I(k,t.error)),e(v,y)},j=v=>{var y=D(),k=$(y);{var M=p=>{var b=D(),r=$(b);K(r,()=>Ee,(F,d)=>{d(F,{class:"py-12",children:(_,O)=>{var a=D(),o=$(a);K(o,()=>xe,(g,Q)=>{Q(g,{children:(Y,U)=>{var T=Ce(),B=$(T);K(B,()=>he,(N,V)=>{V(N,{variant:"icon",children:(q,le)=>{Se(q,{class:"size-5"})},$$slots:{default:!0}})});var Z=s(B,2);K(Z,()=>ye,(N,V)=>{V(N,{children:(q,le)=>{S();var ee=E("No events yet");e(q,ee)},$$slots:{default:!0}})});var W=s(Z,2);K(W,()=>be,(N,V)=>{V(N,{children:(q,le)=>{S();var ee=E("Events will appear here as agents work on tasks");e(q,ee)},$$slots:{default:!0}})}),e(Y,T)},$$slots:{default:!0}})}),e(_,a)},$$slots:{default:!0}})}),e(p,b)},X=p=>{var b=He(),r=c(b);{var F=a=>{var o=Te();e(a,o)};J(r,a=>{t.isStreaming&&a(F)})}var d=s(r,2);ve(d,17,()=>i(l),a=>a.id,(a,o)=>{fe(a,{get event(){return i(o)}})});var _=s(d,2);{var O=a=>{var o=Be(),g=c(o);f(o),H(()=>I(g,`Showing ${x()??""} of ${t.events.length??""} events`)),e(a,o)};J(_,a=>{t.events.length>x()&&a(O)})}f(b),e(p,b)};J(k,p=>{i(l).length===0?p(M):p(X,!1)},!0)}e(v,y)};J(P,v=>{t.error?v(C):v(j,!1)},!0)}e(m,h)};J(A,m=>{t.loading?m(w):m(R,!1)})}e(L,n),se()}var Le=u('<!> <div class="flex-1 overflow-auto p-6"><!> <div class="mt-4"><!></div></div>',1);function et(L,z){re(z,!1),de();var x=Le(),l=$(x);ce(l,{title:"Events",subtitle:"Real-time activity stream",actions:h=>{ae(h,{variant:"secondary",size:"sm",onclick:()=>t.clearEvents(),children:(P,C)=>{S();var j=E("Clear Events");e(P,j)},$$slots:{default:!0}})}});var n=s(l,2),A=c(n);Fe(A,{});var w=s(A,2),R=c(w);Ie(R,{maxEvents:100}),f(w),f(n),e(L,x),se()}export{et as component};
//# sourceMappingURL=6.CCSXxtYL.js.map
