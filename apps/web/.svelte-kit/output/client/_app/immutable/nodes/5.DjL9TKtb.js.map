{"version":3,"file":"5.DjL9TKtb.js","sources":["../../../../../../../../node_modules/.pnpm/svelte@5.46.4/node_modules/svelte/src/internal/client/dom/blocks/svelte-head.js","../../../../../../src/lib/components/approvals/approval-card.svelte","../../../../../../../../node_modules/.pnpm/lucide-svelte@0.562.0_svelte@5.46.4/node_modules/lucide-svelte/dist/icons/funnel.svelte","../../../../../../src/lib/components/approvals/approval-list.svelte","../../../../../../src/lib/components/approvals/approval-detail-modal.svelte","../../../../../../src/routes/approvals/+page.svelte"],"sourcesContent":["/** @import { TemplateNode } from '#client' */\nimport { hydrate_node, hydrating, set_hydrate_node, set_hydrating } from '../hydration.js';\nimport { create_text, get_first_child, get_next_sibling } from '../operations.js';\nimport { block } from '../../reactivity/effects.js';\nimport { COMMENT_NODE, HEAD_EFFECT } from '#client/constants';\n\n/**\n * @param {string} hash\n * @param {(anchor: Node) => void} render_fn\n * @returns {void}\n */\nexport function head(hash, render_fn) {\n\t// The head function may be called after the first hydration pass and ssr comment nodes may still be present,\n\t// therefore we need to skip that when we detect that we're not in hydration mode.\n\tlet previous_hydrate_node = null;\n\tlet was_hydrating = hydrating;\n\n\t/** @type {Comment | Text} */\n\tvar anchor;\n\n\tif (hydrating) {\n\t\tprevious_hydrate_node = hydrate_node;\n\n\t\tvar head_anchor = get_first_child(document.head);\n\n\t\t// There might be multiple head blocks in our app, and they could have been\n\t\t// rendered in an arbitrary order — find one corresponding to this component\n\t\twhile (\n\t\t\thead_anchor !== null &&\n\t\t\t(head_anchor.nodeType !== COMMENT_NODE || /** @type {Comment} */ (head_anchor).data !== hash)\n\t\t) {\n\t\t\thead_anchor = get_next_sibling(head_anchor);\n\t\t}\n\n\t\t// If we can't find an opening hydration marker, skip hydration (this can happen\n\t\t// if a framework rendered body but not head content)\n\t\tif (head_anchor === null) {\n\t\t\tset_hydrating(false);\n\t\t} else {\n\t\t\tvar start = /** @type {TemplateNode} */ (get_next_sibling(head_anchor));\n\t\t\thead_anchor.remove(); // in case this component is repeated\n\n\t\t\tset_hydrate_node(start);\n\t\t}\n\t}\n\n\tif (!hydrating) {\n\t\tanchor = document.head.appendChild(create_text());\n\t}\n\n\ttry {\n\t\tblock(() => render_fn(anchor), HEAD_EFFECT);\n\t} finally {\n\t\tif (was_hydrating) {\n\t\t\tset_hydrating(true);\n\t\t\tset_hydrate_node(/** @type {TemplateNode} */ (previous_hydrate_node));\n\t\t}\n\t}\n}\n","<script lang=\"ts\">\n  import type { ApprovalDto } from '$lib/ipc/client';\n  import { agentStore } from '$lib/stores/agents.svelte';\n  import { approvalStore } from '$lib/stores/approvals.svelte';\n  import { Button } from '$lib/components/ui/button';\n  import * as Card from '$lib/components/ui/card';\n\n  interface Props {\n    approval: ApprovalDto;\n    compact?: boolean;\n    onSelect?: (approval: ApprovalDto) => void;\n  }\n\n  let { approval, compact = false, onSelect }: Props = $props();\n\n  const agent = $derived(agentStore.getById(approval.agentId));\n\n  const statusColors = {\n    pending: 'bg-warning-muted text-warning-muted-foreground',\n    approved: 'bg-success-muted text-success-muted-foreground',\n    rejected: 'bg-destructive/10 text-destructive',\n  };\n\n  const actionTypeIcons: Record<string, string> = {\n    file_write: 'M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z',\n    file_read: 'M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z',\n    shell_execute: 'M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z',\n    file_delete: 'M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16',\n  };\n\n  let processing = $state(false);\n\n  async function handleApprove(e: MouseEvent) {\n    e.stopPropagation();\n    processing = true;\n    try {\n      await approvalStore.approve(approval.id);\n    } finally {\n      processing = false;\n    }\n  }\n\n  async function handleReject(e: MouseEvent) {\n    e.stopPropagation();\n    processing = true;\n    try {\n      await approvalStore.reject(approval.id);\n    } finally {\n      processing = false;\n    }\n  }\n\n  function handleClick() {\n    onSelect?.(approval);\n  }\n\n  function formatActionType(type: string): string {\n    return type.split('_').map(word =>\n      word.charAt(0).toUpperCase() + word.slice(1)\n    ).join(' ');\n  }\n</script>\n\n<Card.Root\n  role=\"button\"\n  tabindex={0}\n  class=\"w-full cursor-pointer px-6 text-left transition-shadow hover:shadow-md {compact ? 'py-4' : ''} {processing ? 'pointer-events-none opacity-50' : ''}\"\n  onclick={handleClick}\n  onkeydown={(e) => e.key === 'Enter' && handleClick()}\n>\n  <div class=\"flex items-start justify-between gap-4\">\n    <div class=\"min-w-0 flex-1\">\n      <div class=\"flex items-center gap-2\">\n        <span class=\"flex h-8 w-8 items-center justify-center rounded-lg bg-surface-100\">\n          <svg class=\"h-4 w-4 text-surface-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d={actionTypeIcons[approval.actionType] ?? actionTypeIcons['file_write']} />\n          </svg>\n        </span>\n        <div>\n          <h4 class=\"font-medium text-surface-900\">\n            {formatActionType(approval.actionType)}\n          </h4>\n          {#if approval.target}\n            <p class=\"text-xs text-surface-500 font-mono truncate max-w-xs\">\n              {approval.target}\n            </p>\n          {/if}\n        </div>\n      </div>\n\n      {#if !compact && approval.reasoning}\n        <p class=\"mt-2 text-sm text-surface-600 line-clamp-2\">\n          {approval.reasoning}\n        </p>\n      {/if}\n    </div>\n\n    <span class=\"rounded-full px-2 py-1 text-xs font-medium {statusColors[approval.approvalStatus ?? 'pending']}\">\n      {approval.approvalStatus ?? 'pending'}\n    </span>\n  </div>\n\n  <div class=\"mt-3 flex flex-wrap items-center gap-2 text-xs text-surface-500\">\n    {#if agent}\n      <span class=\"flex items-center gap-1\">\n        <svg class=\"h-3 w-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n          />\n        </svg>\n        {agent.name}\n      </span>\n    {/if}\n\n    <span>\n      {new Date(approval.createdAt).toLocaleString()}\n    </span>\n  </div>\n\n  {#if !compact && approval.approvalStatus === 'pending'}\n    <div class=\"mt-4 flex gap-2 border-t pt-4\">\n      <Button\n        class=\"flex-1\"\n        size=\"sm\"\n        onclick={handleApprove}\n        disabled={processing}\n      >\n        {#if processing}\n          <span class=\"animate-spin\">⏳</span>\n        {:else}\n          Approve\n        {/if}\n      </Button>\n      <Button\n        variant=\"ghost\"\n        class=\"flex-1 text-destructive hover:text-destructive/80\"\n        size=\"sm\"\n        onclick={handleReject}\n        disabled={processing}\n      >\n        Reject\n      </Button>\n    </div>\n  {/if}\n</Card.Root>\n","<script>/**\n * @license lucide-svelte v0.562.0 - ISC\n *\n * ISC License\n *\n * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n *\n * ---\n *\n * The MIT License (MIT) (for portions derived from Feather)\n *\n * Copyright (c) 2013-2023 Cole Bemis\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\nimport Icon from '../Icon.svelte';\nconst iconNode = [[\"path\", { \"d\": \"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z\" }]];\n/**\n * @component @name Funnel\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMjBhMSAxIDAgMCAwIC41NTMuODk1bDIgMUExIDEgMCAwIDAgMTQgMjF2LTdhMiAyIDAgMCAxIC41MTctMS4zNDFMMjEuNzQgNC42N0ExIDEgMCAwIDAgMjEgM0gzYTEgMSAwIDAgMC0uNzQyIDEuNjdsNy4yMjUgNy45ODlBMiAyIDAgMCAxIDEwIDE0eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/funnel\n * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {FunctionalComponent} Svelte component\n *\n */\n</script>\n\n<Icon name=\"funnel\" {...$$props} iconNode={iconNode}>\n  <slot/>\n</Icon>\n","<script lang=\"ts\">\n  import type { ApprovalDto } from '$lib/ipc/client';\n  import { approvalStore } from '$lib/stores/approvals.svelte';\n  import ApprovalCard from './approval-card.svelte';\n  import * as Empty from '$lib/components/ui/empty/index.js';\n  import CheckCircleIcon from 'lucide-svelte/icons/check-circle';\n  import FilterIcon from 'lucide-svelte/icons/filter';\n\n  interface Props {\n    onSelect?: (approval: ApprovalDto) => void;\n  }\n\n  let { onSelect }: Props = $props();\n\n  let selectedStatus = $state<'pending' | 'approved' | 'rejected' | 'all'>('pending');\n\n  const filteredApprovals = $derived(() => {\n    if (selectedStatus === 'all') {\n      return approvalStore.approvals;\n    }\n    return approvalStore.approvals.filter((a) => a.approvalStatus === selectedStatus);\n  });\n\n  const tabs = [\n    { id: 'pending', label: 'Pending', count: approvalStore.pendingApprovals.length },\n    { id: 'approved', label: 'Approved', count: approvalStore.approvedApprovals.length },\n    { id: 'rejected', label: 'Rejected', count: approvalStore.rejectedApprovals.length },\n    { id: 'all', label: 'All', count: approvalStore.approvals.length },\n  ] as const;\n</script>\n\n<div class=\"flex flex-col h-full\">\n  <div class=\"flex items-center gap-1 border-b px-4 py-2\">\n    {#each tabs as tab}\n      <button\n        class=\"relative px-3 py-2 text-sm font-medium rounded-lg transition-colors\n          {selectedStatus === tab.id\n            ? 'bg-primary-100 text-primary-700'\n            : 'text-surface-600 hover:bg-surface-100'}\"\n        onclick={() => (selectedStatus = tab.id)}\n      >\n        {tab.label}\n        {#if tab.count > 0}\n          <span class=\"ml-1.5 rounded-full bg-surface-200 px-1.5 py-0.5 text-xs {selectedStatus === tab.id ? 'bg-primary-200' : ''}\">\n            {tab.count}\n          </span>\n        {/if}\n      </button>\n    {/each}\n  </div>\n\n  <div class=\"flex-1 overflow-y-auto p-4\">\n    {#if approvalStore.loading}\n      <div class=\"flex items-center justify-center py-12\">\n        <div class=\"loading loading-spinner loading-lg\"></div>\n      </div>\n    {:else if approvalStore.error}\n      <div class=\"rounded-lg bg-red-50 p-4 text-red-600\">\n        {approvalStore.error}\n      </div>\n    {:else if filteredApprovals().length === 0}\n      <Empty.Root class=\"py-12\">\n        <Empty.Header>\n          <Empty.Media variant=\"icon\">\n            {#if selectedStatus === 'pending'}\n              <CheckCircleIcon class=\"size-5\" />\n            {:else}\n              <FilterIcon class=\"size-5\" />\n            {/if}\n          </Empty.Media>\n          <Empty.Title>No {selectedStatus === 'all' ? '' : selectedStatus} approvals</Empty.Title>\n          <Empty.Description>\n            {#if selectedStatus === 'pending'}\n              All actions have been reviewed\n            {:else}\n              No approvals match this filter\n            {/if}\n          </Empty.Description>\n        </Empty.Header>\n      </Empty.Root>\n    {:else}\n      <div class=\"space-y-3\">\n        {#each filteredApprovals() as approval (approval.id)}\n          <ApprovalCard {approval} {onSelect} />\n        {/each}\n      </div>\n    {/if}\n  </div>\n</div>\n","<script lang=\"ts\">\n  import type { ApprovalDto } from '$lib/ipc/client';\n  import { agentStore } from '$lib/stores/agents.svelte';\n  import { approvalStore } from '$lib/stores/approvals.svelte';\n  import { Button } from '$lib/components/ui/button';\n\n  interface Props {\n    approval: ApprovalDto | null;\n    onClose: () => void;\n  }\n\n  let { approval, onClose }: Props = $props();\n\n  const agent = $derived(approval ? agentStore.getById(approval.agentId) : null);\n\n  let processing = $state(false);\n  let rejectReason = $state('');\n  let showRejectForm = $state(false);\n\n  const statusColors = {\n    pending: 'bg-warning-muted text-warning-muted-foreground',\n    approved: 'bg-success-muted text-success-muted-foreground',\n    rejected: 'bg-destructive/10 text-destructive',\n  };\n\n  async function handleApprove() {\n    if (!approval) return;\n    processing = true;\n    try {\n      await approvalStore.approve(approval.id);\n      onClose();\n    } finally {\n      processing = false;\n    }\n  }\n\n  async function handleReject() {\n    if (!approval) return;\n    processing = true;\n    try {\n      await approvalStore.reject(approval.id, rejectReason || undefined);\n      onClose();\n    } finally {\n      processing = false;\n    }\n  }\n\n  function formatActionType(type: string): string {\n    return type.split('_').map(word =>\n      word.charAt(0).toUpperCase() + word.slice(1)\n    ).join(' ');\n  }\n\n  function formatJson(obj: unknown): string {\n    if (!obj) return '';\n    try {\n      return JSON.stringify(obj, null, 2);\n    } catch {\n      return String(obj);\n    }\n  }\n</script>\n\n{#if approval}\n  <div\n    class=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50\"\n    role=\"dialog\"\n    aria-modal=\"true\"\n  >\n    <div class=\"mx-4 max-h-[90vh] w-full max-w-2xl overflow-hidden rounded-xl bg-white shadow-2xl\">\n      <div class=\"flex items-center justify-between border-b px-6 py-4\">\n        <div>\n          <h2 class=\"text-lg font-semibold text-surface-900\">\n            {formatActionType(approval.actionType)}\n          </h2>\n          {#if approval.target}\n            <p class=\"text-sm text-surface-500 font-mono\">\n              {approval.target}\n            </p>\n          {/if}\n        </div>\n        <div class=\"flex items-center gap-3\">\n          <span class=\"rounded-full px-2.5 py-1 text-xs font-medium {statusColors[approval.approvalStatus ?? 'pending']}\">\n            {approval.approvalStatus ?? 'pending'}\n          </span>\n          <button\n            class=\"rounded-lg p-1 hover:bg-surface-100\"\n            onclick={onClose}\n            aria-label=\"Close\"\n          >\n            <svg class=\"h-5 w-5 text-surface-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n\n      <div class=\"max-h-[60vh] overflow-y-auto p-6\">\n        <div class=\"space-y-6\">\n          <div class=\"grid grid-cols-2 gap-4 text-sm\">\n            <div>\n              <span class=\"text-surface-500\">Agent</span>\n              <p class=\"font-medium text-surface-900\">{agent?.name ?? approval.agentId}</p>\n            </div>\n            <div>\n              <span class=\"text-surface-500\">Created</span>\n              <p class=\"font-medium text-surface-900\">\n                {new Date(approval.createdAt).toLocaleString()}\n              </p>\n            </div>\n            {#if approval.approvedAt}\n              <div>\n                <span class=\"text-surface-500\">\n                  {approval.approvalStatus === 'approved' ? 'Approved At' : 'Rejected At'}\n                </span>\n                <p class=\"font-medium text-surface-900\">\n                  {new Date(approval.approvedAt).toLocaleString()}\n                </p>\n              </div>\n            {/if}\n            {#if approval.durationMs}\n              <div>\n                <span class=\"text-surface-500\">Duration</span>\n                <p class=\"font-medium text-surface-900\">{approval.durationMs}ms</p>\n              </div>\n            {/if}\n          </div>\n\n          {#if approval.reasoning}\n            <div>\n              <h3 class=\"mb-2 text-sm font-medium text-surface-700\">Reasoning</h3>\n              <p class=\"rounded-lg bg-surface-50 p-3 text-sm text-surface-600\">\n                {approval.reasoning}\n              </p>\n            </div>\n          {/if}\n\n          {#if approval.input}\n            <div>\n              <h3 class=\"mb-2 text-sm font-medium text-surface-700\">Input</h3>\n              <pre class=\"max-h-48 overflow-auto rounded-lg bg-foreground p-3 text-xs text-success font-mono\">{formatJson(approval.input)}</pre>\n            </div>\n          {/if}\n\n          {#if approval.output}\n            <div>\n              <h3 class=\"mb-2 text-sm font-medium text-surface-700\">Output</h3>\n              <pre class=\"max-h-48 overflow-auto rounded-lg bg-foreground p-3 text-xs text-info font-mono\">{formatJson(approval.output)}</pre>\n            </div>\n          {/if}\n\n          {#if showRejectForm}\n            <div>\n              <label for=\"reject-reason\" class=\"mb-2 block text-sm font-medium text-surface-700\">\n                Rejection Reason (Optional)\n              </label>\n              <textarea\n                id=\"reject-reason\"\n                class=\"w-full rounded-lg border border-input p-3 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-ring\"\n                rows=\"3\"\n                placeholder=\"Enter reason for rejection...\"\n                bind:value={rejectReason}\n              ></textarea>\n            </div>\n          {/if}\n        </div>\n      </div>\n\n      {#if approval.approvalStatus === 'pending'}\n        <div class=\"flex gap-3 border-t px-6 py-4\">\n          {#if showRejectForm}\n            <Button\n              variant=\"ghost\"\n              class=\"flex-1\"\n              onclick={() => (showRejectForm = false)}\n              disabled={processing}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"destructive\"\n              class=\"flex-1\"\n              onclick={handleReject}\n              disabled={processing}\n            >\n              {#if processing}\n                <span class=\"animate-spin\">⏳</span>\n              {:else}\n                Confirm Reject\n              {/if}\n            </Button>\n          {:else}\n            <Button\n              variant=\"ghost\"\n              class=\"flex-1 text-destructive hover:text-destructive/80\"\n              onclick={() => (showRejectForm = true)}\n              disabled={processing}\n            >\n              Reject\n            </Button>\n            <Button\n              class=\"flex-1\"\n              onclick={handleApprove}\n              disabled={processing}\n            >\n              {#if processing}\n                <span class=\"animate-spin\">⏳</span>\n              {:else}\n                Approve\n              {/if}\n            </Button>\n          {/if}\n        </div>\n      {/if}\n    </div>\n  </div>\n{/if}\n","<script lang=\"ts\">\n  import { onMount, onDestroy } from 'svelte';\n  import type { ApprovalDto } from '$lib/ipc/client';\n  import { approvalStore } from '$lib/stores/approvals.svelte';\n  import { ApprovalList, ApprovalDetailModal } from '$lib/components/approvals';\n\n  let selectedApproval = $state<ApprovalDto | null>(null);\n\n  onMount(async () => {\n    await approvalStore.load();\n    approvalStore.subscribe();\n  });\n\n  onDestroy(() => {\n    approvalStore.unsubscribe();\n  });\n\n  function handleSelect(approval: ApprovalDto) {\n    selectedApproval = approval;\n  }\n\n  function handleClose() {\n    selectedApproval = null;\n  }\n</script>\n\n<svelte:head>\n  <title>Approvals - Claude Team</title>\n</svelte:head>\n\n<div class=\"flex h-full flex-col\">\n  <header class=\"flex items-center justify-between border-b px-6 py-4\">\n    <div>\n      <h1 class=\"text-xl font-semibold text-surface-900\">Approvals</h1>\n      <p class=\"text-sm text-surface-500\">\n        Review and approve agent actions\n      </p>\n    </div>\n    {#if approvalStore.count > 0}\n      <span class=\"rounded-full bg-yellow-100 px-3 py-1 text-sm font-medium text-yellow-800\">\n        {approvalStore.count} pending\n      </span>\n    {/if}\n  </header>\n\n  <div class=\"flex-1 overflow-hidden\">\n    <ApprovalList onSelect={handleSelect} />\n  </div>\n</div>\n\n<ApprovalDetailModal approval={selectedApproval} onClose={handleClose} />\n"],"names":["head","hash","render_fn","previous_hydrate_node","was_hydrating","hydrating","anchor","hydrate_node","head_anchor","get_first_child","COMMENT_NODE","get_next_sibling","set_hydrating","start","set_hydrate_node","create_text","block","HEAD_EFFECT","compact","agent","$.derived","agentStore","statusColors","actionTypeIcons","processing","$.state","handleApprove","e","$.set","approvalStore","$$props","handleReject","handleClick","formatActionType","type","word","Card_Root","$$anchor","div","$.first_child","fragment_1","div_1","div_2","span","svg","path","div_3","h4","p","root_2","$$render","consequent","p_1","root_3","consequent_1","span_1","div_4","span_2","root_4","$.template_effect","$.set_text","text_4","$.get","consequent_2","span_3","$.sibling","node_3","div_5","root_5","Button","node_5","span_4","root_7","consequent_3","alternate","node_7","consequent_4","$.set_attribute","$.set_class","text_3","iconNode","Icon","$.spread_props","$$sanitized_props","selectedStatus","filteredApprovals","a","tabs","root","$.index","tab","button","root_1","text","$.child","text_1","$.reset","$.append","text_2","Empty_Root","Empty_Header","Empty_Media","CheckCircleIcon","FilterIcon","Empty_Title","Empty_Description","alternate_1","root_17","approval","ApprovalCard","consequent_5","alternate_2","alternate_3","alternate_4","rejectReason","showRejectForm","formatJson","obj","h2","$$args","div_6","div_7","div_8","div_9","p_2","div_10","p_3","text_5","div_11","p_4","div_12","p_5","div_13","root_6","pre","$0","text_9","div_14","pre_1","text_10","div_15","root_8","textarea","$.remove_textarea_child","$$value","consequent_6","div_16","root_9","node_10","node_11","root_13","consequent_7","node_13","node_14","root_18","consequent_9","consequent_8","consequent_10","selectedApproval","onMount","onDestroy","handleSelect","handleClose","$.head","fragment","header","ApprovalList","ApprovalDetailModal","node_2"],"mappings":"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","x_google_ignoreList":[0,2]}