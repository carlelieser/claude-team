{"version":3,"file":"BQRNle_x.js","sources":["../../../../../../src/lib/components/events/event-card.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import type { EventDto } from '$lib/ipc/client';\n  import { Badge } from '$lib/components/ui/badge';\n\n  interface Props {\n    event: EventDto;\n  }\n\n  let { event }: Props = $props();\n\n  const typeColors: Record<string, string> = {\n    'task.': 'bg-info-muted text-info-muted-foreground border-transparent',\n    'agent.': 'bg-accent text-accent-foreground border-transparent',\n    'system.': 'bg-muted text-muted-foreground border-transparent',\n    'error': 'bg-destructive/10 text-destructive border-transparent',\n  };\n\n  function getTypeColor(type: string): string {\n    for (const [prefix, color] of Object.entries(typeColors)) {\n      if (type.startsWith(prefix)) {\n        return color;\n      }\n    }\n    return 'bg-muted text-muted-foreground border-transparent';\n  }\n\n  function formatPayload(payload: Record<string, unknown>): string {\n    return JSON.stringify(payload, null, 2);\n  }\n\n  let expanded = $state(false);\n</script>\n\n<div class=\"rounded-lg border bg-white p-3 text-sm\">\n  <div class=\"flex items-start justify-between gap-3\">\n    <div class=\"min-w-0 flex-1\">\n      <div class=\"flex items-center gap-2\">\n        <Badge class={getTypeColor(event.type)}>\n          {event.type}\n        </Badge>\n        <span class=\"text-xs text-surface-400\">\n          {new Date(event.timestamp).toLocaleTimeString()}\n        </span>\n      </div>\n\n      <div class=\"mt-1 flex items-center gap-2 text-xs text-surface-500\">\n        <span>Source: {event.source}</span>\n        {#if event.processed}\n          <span class=\"text-success\">Processed</span>\n        {/if}\n      </div>\n    </div>\n\n    <button\n      class=\"flex-shrink-0 p-1 text-surface-400 hover:text-surface-600\"\n      onclick={() => (expanded = !expanded)}\n      aria-expanded={expanded}\n      aria-label={expanded ? 'Collapse event details' : 'Expand event details'}\n    >\n      <svg\n        class=\"h-4 w-4 transition-transform {expanded ? 'rotate-180' : ''}\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n      >\n        <path\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          stroke-width=\"2\"\n          d=\"M19 9l-7 7-7-7\"\n        />\n      </svg>\n    </button>\n  </div>\n\n  {#if expanded}\n    <div class=\"mt-3 overflow-x-auto rounded bg-surface-50 p-2\">\n      <pre class=\"text-xs text-surface-600\">{formatPayload(event.payload)}</pre>\n    </div>\n  {/if}\n</div>\n"],"names":["typeColors","getTypeColor","type","prefix","color","formatPayload","payload","expanded","$.state","div","root","div_1","div_2","div_3","$0","$.derived","Badge","node","span","$.sibling","div_4","span_1","span_2","root_2","$$render","consequent","button","$.set","$.get","svg","$.child","$.reset","div_5","root_3","pre","$.template_effect","$.set_text","text_3","consequent_1","$.set_attribute","$.set_class","$$props"],"mappings":"wjCAAA,eAUQA,EAAkC,CACtC,QAAS,8DACT,SAAU,sDACV,UAAW,oDACX,MAAS,kEAGFC,EAAaC,EAAsB,WAC9BC,EAAQC,CAAK,IAAK,OAAO,QAAQJ,CAAU,EACjD,GAAAE,EAAK,WAAWC,CAAM,SACjBC,QAGJ,mDACT,UAESC,EAAcC,EAA0C,CACxD,OAAA,KAAK,UAAUA,EAAS,KAAM,CAAC,CACxC,KAEIC,EAAWC,EAAO,EAAK,MAG5BC,EAAGC,EAAA,EACDC,IADFF,CAAG,EAECG,IADFD,CAAG,EAECE,IADFD,CAAG,MACDC,CAAG,GACY,IAAAC,EAAAC,EAAA,IAAAd,UAAmB,IAAI,CAAA,EAApCe,EAAKC,EAAA,2EACG,IAAI,CAAA,qCAEZC,EAAIC,EAAAF,EAAA,CAAA,MAAJC,EAAI,EAAA,IAAJA,CAAI,IAJNL,CAAG,EASH,IAAAO,IATAP,EAAG,CAAA,EAUDQ,IADFD,CAAG,MACDC,CAAI,IAAJA,CAAI,UAAJA,EAAI,CAAA,iBAEFC,EAAIC,EAAA,MAAJD,CAAI,mBADI,WAASE,EAAAC,CAAA,MAFrBL,CAAG,IAVLR,CAAG,EAkBH,IAAAc,EAAAP,EAlBAP,EAAG,CAAA,EAkBHc,EAEC,QAAO,IAAAC,EAASpB,EAAQ,CAAAqB,EAAIrB,CAAQ,CAAA,MAInCsB,EAAAC,EANFJ,CAAA,EAAAK,EAAAL,CAAA,IAnBFf,CAAG,UAAHA,EAAG,CAAA,iBA0CDqB,EAAGC,EAAA,EACDC,IADFF,CAAG,MACDE,EAAG,EAAA,IAAHA,CAAG,IADLF,CAAG,EACqCG,EAAArB,GAAAsB,EAAAC,EAAAvB,CAAA,EAAA,CAAA,IAAAT,UAAoB,OAAO,CAAA,CAAA,MADnE2B,CAAG,aADDzB,CAAQ,GAAAiB,EAAAc,CAAA,MA1Cd7B,CAAG,sCAayB,QAAM,EAAA,EAAA,EAO9B8B,EAAAb,EAAA,gBAAAE,EAGgBrB,CAAQ,CAAA,EAHxBgC,EAAAb,EAAA,aAAAE,EAIarB,CAAQ,EAAG,yBAA2B,sBAAsB,EAEvEiC,EAAAX,EAAA,EAAA,gCAAAD,EACsCrB,CAAQ,EAAG,aAAe,EAAE,EAAA,YAnB1D,KAAIkC,EAAA,MAAO,SAAS,EAAE,mBAAkB,CAAA,OARtDhC,CAAG,KAFI"}