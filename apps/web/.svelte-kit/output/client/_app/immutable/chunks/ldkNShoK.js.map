{"version":3,"file":"ldkNShoK.js","sources":["../../../../../../src/lib/components/tasks/task-card.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import type { TaskDto } from '$lib/ipc/client';\n  import { agentStore } from '$lib/stores/agents.svelte';\n  import { taskStore } from '$lib/stores/tasks.svelte';\n  import { Button } from '$lib/components/ui/button';\n  import * as Card from '$lib/components/ui/card';\n  import { Badge } from '$lib/components/ui/badge';\n\n  interface Props {\n    task: TaskDto;\n    compact?: boolean;\n  }\n\n  let { task, compact = false }: Props = $props();\n\n  const agent = $derived(task.agentId ? agentStore.getById(task.agentId) : null);\n\n  const statusColors = {\n    pending: 'bg-muted text-muted-foreground border-transparent',\n    in_progress: 'bg-info-muted text-info-muted-foreground border-transparent',\n    completed: 'bg-success-muted text-success-muted-foreground border-transparent',\n    failed: 'bg-destructive/10 text-destructive border-transparent',\n    canceled: 'bg-muted text-muted-foreground border-transparent',\n  };\n\n  const priorityLabels: Record<number, string> = {\n    0: 'Low',\n    1: 'Medium',\n    2: 'High',\n    3: 'Urgent',\n  };\n\n  async function handleCancel() {\n    await taskStore.cancel(task.id);\n  }\n</script>\n\n<Card.Root class=\"px-6 {compact ? 'py-4' : ''}\">\n  <div class=\"flex items-start justify-between gap-4\">\n    <div class=\"min-w-0 flex-1\">\n      <h4 class=\"truncate font-medium text-surface-900\">{task.title}</h4>\n      {#if !compact && task.description}\n        <p class=\"mt-1 text-sm text-surface-500\">{task.description}</p>\n      {/if}\n    </div>\n\n    <Badge class={statusColors[task.status]}>\n      {task.status.replace('_', ' ')}\n    </Badge>\n  </div>\n\n  <div class=\"mt-3 flex flex-wrap items-center gap-2 text-xs text-surface-500\">\n    {#if agent}\n      <span class=\"flex items-center gap-1\">\n        <svg class=\"h-3 w-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n          />\n        </svg>\n        {agent.name}\n      </span>\n    {/if}\n\n    {#if task.priority > 0}\n      <span\n        class=\"rounded px-1.5 py-0.5 {task.priority >= 2\n          ? 'bg-destructive/10 text-destructive'\n          : 'bg-warning-muted text-warning-muted-foreground'}\"\n      >\n        {priorityLabels[task.priority] ?? 'Normal'}\n      </span>\n    {/if}\n\n    <span>\n      {new Date(task.createdAt).toLocaleDateString()}\n    </span>\n  </div>\n\n  {#if !compact && (task.status === 'pending' || task.status === 'in_progress')}\n    <div class=\"mt-4 border-t pt-4\">\n      <Button variant=\"ghost\" size=\"sm\" class=\"text-destructive hover:text-destructive/80\" onclick={handleCancel}>\n        Cancel\n      </Button>\n    </div>\n  {/if}\n</Card.Root>\n"],"names":["compact","agent","$.derived","$$props","agentStore","statusColors","priorityLabels","handleCancel","taskStore","Card_Root","$$anchor","div","$.first_child","fragment_1","div_1","h4","p","root_2","$$render","consequent","Badge","node_2","$.template_effect","$0","$.set_text","text_2","div_2","span","root_4","text_3","$.get","consequent_1","span_1","root_5","text_4","$.child","$.reset","$.set_class","$.append","consequent_2","span_2","$.sibling","node_4","div_3","root_6","Button","node_6","consequent_3"],"mappings":"ioCAAA,SAac,IAAAA,kBAAU,EAAK,QAErBC,EAAKC,EAAA,IAAAC,EAAA,KAAiB,QAAUC,GAAW,QAAOD,EAAA,KAAM,OAAO,EAAI,IAAI,EAEvEE,EAAY,CAChB,QAAS,oDACT,YAAa,8DACb,UAAW,oEACX,OAAQ,wDACR,SAAU,qDAGNC,EAAsC,CAC1C,EAAG,MACH,EAAG,SACH,EAAG,OACH,EAAG,QAAQ,EAGE,eAAAC,GAAe,OACtBC,GAAU,OAAML,EAAA,KAAM,EAAE,CAChC,+BAGsBH,EAAO,EAAG,OAAS,EAAE,qBAA5CS,EAASC,EAAA,oEACPC,EAAGC,EAAAC,CAAA,EACDC,IADFH,CAAG,EAECI,IADFD,CAAG,MACDC,EAAE,EAAA,IAAFA,CAAE,UAAFA,EAAE,CAAA,iBAEAC,EAACC,GAAA,MAADD,EAAC,EAAA,IAADA,CAAC,mBAA6C,WAAW,CAAA,MAAzDA,CAAC,WADE,CAAAhB,EAAO,UAAS,aAAWkB,EAAAC,CAAA,MAFlCL,CAAG,UAAHA,EAAG,CAAA,EAOHM,GAAKC,EAAA,aAAQ,OAAAhB,SAAkB,MAAM,kCAC9BiB,EAAAC,GAAAC,EAAAC,EAAAF,CAAA,EAAA,CAAA,IAAApB,EAAA,KAAA,OAAO,QAAQ,IAAK,GAAG,CAAA,CAAA,mCAThCQ,CAAG,EAaH,IAAAe,IAbAf,EAAG,CAAA,MAaHe,CAAG,iBAECC,EAAIC,GAAA,QAAJD,CAAI,CAAA,IAAJA,CAAI,EASFL,EAAA,IAAAE,EAAAK,EAAA,IAAAC,EAAA7B,CAAK,EAAC,MAAI,EAAA,EAAA,CAAA,MATZ0B,CAAI,aADF1B,CAAK,GAAAiB,EAAAa,CAAA,4BAeP,IAAAC,EAAAC,GAAA,EAAAC,EAAAC,EAAAH,EAAA,EAAA,EAAAI,EAAAJ,CAAA,SAAAK,EAAAL,EAAA,EAAA,yBAAA7B,EAAA,KACoC,UAAY,EAC3C,qCACA,gDAAgD,EAAA,MAEnDG,EAAcH,EAAA,KAAM,QAAQ,GAAK,QAAQ,IAL3CmC,EAAA5B,EAAAsB,CAAA,WADO7B,EAAA,KAAA,SAAW,GAACe,EAAAqB,CAAA,QAUrBC,EAAIC,EAAAC,EAAA,CAAA,MAAJF,EAAI,EAAA,IAAJA,CAAI,IAzBNd,CAAG,UAAHA,EAAG,CAAA,iBA+BDiB,EAAGC,GAAA,MAAHD,CAAG,EACDE,GAAMC,EAAA,sFAAuFvC,2EAD/FoC,CAAG,MAAHA,CAAG,WADA,CAAA3C,EAAO,WAAU,SAAW,WAASG,EAAA,KAAS,SAAW,gBAAae,EAAA6B,CAAA,qBAzChB,KAAK,mBAqCxD,KAAI5C,EAAA,KAAM,SAAS,EAAE,mBAAkB,CAAA,8CA1C1C"}